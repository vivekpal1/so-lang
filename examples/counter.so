// counter.so - Simple Solana Counter Program
// Location: examples/counter.so
// A working example that can be compiled and deployed to Solana

program Counter {
    state CounterAccount {
        count: u64
    }
    
    instruction initialize(
        @account(init, signer, writable) counter: CounterAccount,
        @account(signer) user: pubkey
    ) {
        counter.count = 0
        print("Counter initialized")
    }
    
    instruction increment(
        @account(writable) counter: CounterAccount,
        @account(signer) user: pubkey
    ) {
        counter.count = counter.count + 1
        print("Counter incremented")
    }
    
    instruction decrement(
        @account(writable) counter: CounterAccount,
        @account(signer) user: pubkey
    ) {
        require(counter.count > 0, "Cannot decrement below zero")
        counter.count = counter.count - 1
        print("Counter decremented")
    }
    
    instruction get_count(
        @account counter: CounterAccount
    ) {
        print(counter.count)
    }
}